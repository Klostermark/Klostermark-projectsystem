<div>
  <md-content>
    <md-tabs md-center-tabs="false" md-dynamic-height md-border-bottom class="md-default-theme md-primary md-hue-1">
      <md-tab label="Moment">
        <md-content>
          <div class="container margin-top">

            <div ng-if=" ! company.name" class="spinner">
              <md-progress-circular class="md-hue-2" md-mode="indeterminate" style="margin:auto">
              </md-progress-circular>
              <p style="text-align:center">Laddar Företag</p>
            </div>

            <div ng-if="company.name">

              <p ng-if=" ! company.categories">För närvarande finns inga moment kopplde till denna kund.</p>

              <form name="activitiesForm" ng-if="company.categories">

                <md-input-container class="month-selector">
                  <label>Månad</label>
                  <input type="month" name="date" ng-model="month" ng-change="loadActivities(month)" required>
                  <div ng-messages="activitiesForm.date.$error">
                    <div ng-message="required">Var god välj en månad.</div>
                  </div>
                </md-input-container>
                <div ng-repeat="category in company.categories" ng-if="dateSelected">
                  <span class="category-title">{{ category.name }}</span>
                  <md-card>
                    <md-list ng-if="category.tasks">
                      <md-list-item ng-repeat-start="(taskId, task) in category.tasks">
                        <md-checkbox ng-disabled="true" ng-if="loadingActivities"></md-checkbox>
                        <md-checkbox
                          ng-model="activities[taskId]"
                          aria-label="Markera som avklarad"
                          ng-change="activityChange(taskId)"
                          ng-if=" ! loadingActivities"
                        ></md-checkbox>
                        <p>{{ task.name }}</p>
                        <!-- description -->
                        <md-icon
                          ng-click="showDescription(task)"
                          class="md-secondary"
                          aria-label="Visa momentbeskrivning"
                        >
                          message
                           <md-tooltip>
                            Visa momentbeskrivning
                          </md-tooltip>
                        </md-icon>
                        <!-- notification -->
                        <md-icon
                          ng-if="task.notification"
                          ng-click="showNotification(task)"
                          class="md-secondary changed"
                          aria-label="Visa rutinförändring för detta moment"
                        >
                          new_releases
                           <md-tooltip>
                            Visa rutinförändring för detta moment
                          </md-tooltip>
                        </md-icon>
                      </md-list-item>
                      <md-divider ng-if=" ! $last" ng-repeat-end></md-divider>

                    </md-list>
                  </md-card>
                </div>
              </form>

            </div>

          </div>
        </md-content>
      </md-tab>
      <md-tab label="Kundinformation">
        <md-content class="md-padding">

        <div ng-if=" ! company.name" class="spinner">
          <md-progress-circular class="md-hue-2" md-mode="indeterminate" style="margin:auto">
          </md-progress-circular>
          <p style="text-align:center">Laddar Företag</p>
        </div>

        <div ng-if="company.name">

          {{ company.EUSales ? 'EU-försäljning' : 'ingen EU-försäljning'}} <br>
          {{ company.accountManager }} <br>
          {{ company.accountingMethod }} <br>
          {{ company.bank }} <br>
          {{ company.brokenFiscalYear ? 'Brutet räkneskapsår' : 'Obrutet räkneskapsår' }} <br>
          {{ company.closingMonth ? company.closingMonth : '' }} <br>
          {{ company.contactPerson }} <br>
          {{ company.contactPhone }} <br>
          {{ company.employer ? 'Arbetsgivare' : 'Ingen arbetsgivare' }} <br>
          {{ company.extendedFiscalYear ? 'Förlängt räknaskapsår' : 'Icke förlängt räknaskapsår' }} <br>
          {{ company.firstClosing ? company.firstClosing : '' }} <br>
          {{ company.invoiceAddress }} <br>
          {{ company.monthlyVAT }} <br>
          {{ company.name }} <br>
          {{ company.submissionTemplate }} <br>
          {{ company.wages ? 'Löner' : 'Inga löner' }}

        </div>

        </md-content>
      </md-tab>
      <md-tab label="Löner">

        <div class="container">
          <md-card>
            <md-list>
              <md-list-item ng-click="navigateTo()">
                <p>Data Usage</p>
                <md-icon>mode_edit</md-icon>
              </md-list-item>
              <md-divider></md-divider>
              <md-list-item ng-click="navigateTo()">
                <p>Data Usage</p>
                <md-icon>mode_edit</md-icon>
              </md-list-item>
              <md-divider></md-divider>
              <md-list-item ng-click="navigateTo()">
                <p>Data Usage</p>
                <md-icon>mode_edit</md-icon>
              </md-list-item>
            </md-list>
          </md-card>
        </div>

        <md-button class="md-fab md-primary md-fab-bottom-right" aria-label="Lägg till löneuppdrag">
          <md-icon>add</md-icon>
        </md-button>

      </md-tab>
    </md-tabs>
  </md-content>
</div>